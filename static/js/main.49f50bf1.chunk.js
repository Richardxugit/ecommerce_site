(this["webpackJsonpecommerce-site"]=this["webpackJsonpecommerce-site"]||[]).push([[0],{58:function(t,e,c){},59:function(t,e,c){},60:function(t,e,c){},61:function(t,e,c){},64:function(t,e,c){},65:function(t,e,c){},66:function(t,e,c){},67:function(t,e,c){"use strict";c.r(e);var n=c(1),r=c.n(n),a=c(13),s=c.n(a),i=c(3),o=c(4),u=c(6),l=c(5),d=c(9),j=c(30),p=c.n(j),h={lowestprice:function(t,e){return t.price<e.price?-1:t.price>e.price?1:0},highestprice:function(t,e){return t.price>e.price?-1:t.price<e.price?1:0}},b=c(0),O=function(t){return Object(b.jsx)("div",{className:t.classes,children:Object(b.jsx)("img",{src:t.src,alt:t.alt,title:t.title})})},f=function(t){var e=t.product;return Object(b.jsxs)("div",{className:"list-item",onClick:function(){return t.addProduct(e)},children:[Object(b.jsx)(O,{classes:"list-item__thumb",src:e.imageUrl,alt:e.title}),Object(b.jsx)("p",{className:"list-item__title",children:e.name}),Object(b.jsx)("div",{className:"list-item__price",children:Object(b.jsxs)("div",{className:"val",children:[Object(b.jsxs)("b",{children:["AU$",e.price]}),Object(b.jsx)("div",{children:e.content})]})}),Object(b.jsx)("div",{className:"list-item__buy-btn",children:"Add to cart"})]})},v=function(t){Object(u.a)(c,t);var e=Object(l.a)(c);function c(t){var n;return Object(i.a)(this,c),(n=e.call(this,t)).toggleCheckboxChange=function(){var t=n.props,e=t.handleCheckboxChange,c=t.label;n.setState((function(t){return{isChecked:!t.isChecked}})),e(c)},n.state={isChecked:!1},n}return Object(o.a)(c,[{key:"render",value:function(){var t=this.props,e=t.label,c=t.classes,n=this.state.isChecked;return Object(b.jsx)("div",{className:c,children:Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",value:e,checked:n,onChange:this.toggleCheckboxChange}),Object(b.jsx)("span",{className:"checkmark",children:e})]})})}}]),c}(n.Component),m=(c(58),["A","B","C","D","E"]),x=function(t){Object(u.a)(c,t);var e=Object(l.a)(c);function c(){var t;Object(i.a)(this,c);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).toggleCheckbox=function(e){t.selectedCheckboxes.has(e)?t.selectedCheckboxes.delete(e):t.selectedCheckboxes.add(e),t.props.updateFilters(Array.from(t.selectedCheckboxes))},t.createCheckbox=function(e){return Object(b.jsx)(v,{classes:"filters-available-size",label:e,handleCheckboxChange:t.toggleCheckbox},e)},t.createCheckboxes=function(){return m.map(t.createCheckbox)},t}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.selectedCheckboxes=new Set}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsx)("h4",{className:"title",children:"category:"}),this.createCheckboxes()]})}}]),c}(n.Component),y=Object(d.b)((function(t){return{filters:t.filters.items}}),{updateFilters:function(t){return{type:"UPDATE_FILTER",payload:t}}})(x),C=function(t){Object(u.a)(c,t);var e=Object(l.a)(c);function c(t){var n;return Object(i.a)(this,c),(n=e.call(this,t)).createOptions=function(t){return t.map((function(t){return Object(b.jsx)("option",{value:t.value,children:t.label},t.value)}))},n.onChange=function(t){n.props.handleOnChange(t.target.value)},n.state={selected:""},n}return Object(o.a)(c,[{key:"render",value:function(){var t=this,e=this.props,c=e.classes,n=e.options;return Object(b.jsx)("select",{onChange:function(e){return t.onChange(e)},className:c,children:this.createOptions(n)})}}]),c}(n.Component),g=(c(59),[{value:"",label:"Select"},{value:"lowestprice",label:"Lowest to highest"},{value:"highestprice",label:"Highest to lowest"}]),k=function(t){Object(u.a)(c,t);var e=Object(l.a)(c);function c(){var t;Object(i.a)(this,c);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).handleSort=function(e){t.props.updateSort(e)},t}return Object(o.a)(c,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"sort",children:["Order by",Object(b.jsx)(C,{options:g,handleOnChange:this.handleSort})]})}}]),c}(n.Component),_=Object(d.b)((function(t){return{sort:t.sort.type}}),{updateSort:function(t){return{type:"UPDATE_SORT",payload:t}}})(k),P=(c(60),function(){return Object(b.jsxs)("div",{className:"loading",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})}),N=(c(61),function(t){Object(u.a)(c,t);var e=Object(l.a)(c);function c(t){var n;return Object(i.a)(this,c),(n=e.call(this,t)).handleFetchProducts=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.filters,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.sort;n.setState({loading:!0}),n.props.fetchProducts(t,e,(function(){n.setState({loading:!1})}))},n.state={loading:!1},n}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.handleFetchProducts()}},{key:"componentWillReceiveProps",value:function(t){var e=t.filters,c=t.sort;e!==this.props.filters&&this.handleFetchProducts(e,void 0),c!==this.props.sort&&this.handleFetchProducts(void 0,c)}},{key:"render",value:function(){var t=this,e=this.props.products.map((function(e){return Object(b.jsx)(f,{product:e,addProduct:t.props.addProduct},e.id)}));return Object(b.jsxs)(r.a.Fragment,{children:[this.state.loading&&Object(b.jsx)(P,{}),Object(b.jsx)(y,{}),Object(b.jsxs)("div",{className:"list-container",children:[Object(b.jsx)(_,{productsLength:e.length}),e]})]})}}]),c}(n.Component)),T=Object(d.b)((function(t){return{products:t.list.products,filters:t.filters.items,sort:t.sort.type}}),{fetchProducts:function(t,e,c){return function(n){return p.a.get("./data/products.json").then((function(r){var a=r.data;return t&&t.length>0&&(a=a.filter((function(e){return t.find((function(t){return e.typeVariant===t}))}))),e&&(a=a.sort(h[e])),c&&c(),n({type:"FETCH_PRODUCTS",payload:a})})).catch((function(t){console.log(t)}))}},addProduct:function(t){return{type:"ADD_PRODUCT",payload:t}}})(N),A=function(t){Object(u.a)(c,t);var e=Object(l.a)(c);function c(){return Object(i.a)(this,c),e.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){var t=this.props,e=t.product,c=t.removeProduct;return Object(b.jsxs)("div",{className:["list-item"].join(" "),children:[Object(b.jsx)("div",{className:"list-item__del",onClick:function(){return c(e)},children:"x"}),Object(b.jsx)(O,{classes:"list-item__thumb",src:e.imageUrl,alt:e.name}),Object(b.jsxs)("div",{className:"list-item__details",children:[Object(b.jsx)("p",{className:"title",children:e.title}),Object(b.jsxs)("p",{className:"desc",children:["Quantity: ",e.quantity]})]}),Object(b.jsx)("div",{className:"list-item__price",children:Object(b.jsxs)("p",{children:["AU$",e.price]})})]})}}]),c}(n.Component),R=c(18),D=(c(64),c(19)),S=function(t){Object(u.a)(c,t);var e=Object(l.a)(c);function c(t){var n;return Object(i.a)(this,c),(n=e.call(this,t)).openCart=function(){n.setState({isOpen:!0})},n.closeCart=function(){n.setState({isOpen:!1})},n.addProduct=function(t){var e=n.props,c=e.cartProducts,r=e.updateCart,a=!1;c.forEach((function(e){e.id===t.id&&(e.quantity+=t.quantity,a=!0)})),a||c.push(t),r(c),n.openCart()},n.removeProduct=function(t){var e=n.props,c=e.cartProducts,r=e.updateCart,a=c.findIndex((function(e){return e.id===t.id}));a>=0&&(c.splice(a,1),r(c))},n.proceedToCheckout=function(){var t=n.props.cartTotal,e=t.totalPrice;t.productQuantity?alert("Checkout - Subtotal: AU$ ".concat(e)):alert("Add some product in the bag!")},n.state={isOpen:!1},n}return Object(o.a)(c,[{key:"componentWillReceiveProps",value:function(t){t.newProduct!==this.props.newProduct&&this.addProduct(t.newProduct),t.productToRemove!==this.props.productToRemove&&this.removeProduct(t.productToRemove)}},{key:"render",value:function(){var t=this,e=this.props,c=e.cartTotal,n=e.cartProducts,r=e.removeProduct,a=n.map((function(t){return Object(b.jsx)(A,{product:t,removeProduct:r},t.id)})),s=["cart"];return this.state.isOpen&&s.push("cart--open"),Object(b.jsxs)("div",{className:s.join(" "),children:[this.state.isOpen&&Object(b.jsx)("div",{onClick:function(){return t.closeCart()},className:"cart__close-btn",children:"X"}),!this.state.isOpen&&Object(b.jsxs)("span",{onClick:function(){return t.openCart()},className:"bag bag--cart-closed",children:[Object(b.jsx)(R.a,{icon:D.a,size:"3x"}),Object(b.jsx)("span",{className:"bag__quantity",children:c.productQuantity})]}),Object(b.jsxs)("div",{className:"cart__content",children:[Object(b.jsxs)("div",{className:"cart__header",children:[Object(b.jsxs)("span",{className:"bag",children:[Object(b.jsx)(R.a,{icon:D.a,size:"3x"}),Object(b.jsx)("span",{className:"bag__quantity",children:c.productQuantity})]}),Object(b.jsx)("span",{className:"header-title",children:"Cart"})]}),Object(b.jsxs)("div",{className:"cart__list-container",children:[a,!a.length&&Object(b.jsxs)("p",{className:"list-empty",children:["Please add some products ",Object(b.jsx)("br",{})]})]}),Object(b.jsxs)("div",{className:"cart__footer",children:[Object(b.jsx)("div",{className:"sub",children:"SUBTOTAL"}),Object(b.jsx)("div",{className:"sub-price",children:Object(b.jsxs)("p",{className:"sub-price__val",children:["AU$","".concat(c.totalPrice)]})}),Object(b.jsx)("div",{onClick:function(){return t.proceedToCheckout()},className:"buy-btn",children:"Checkout"})]})]})]})}}]),c}(n.Component),U=Object(d.b)((function(t){return{cartProducts:t.cart.products,newProduct:t.cart.productToAdd,productToRemove:t.cart.productToRemove,cartTotal:t.cart.sum}}),{loadCart:function(t){return{type:"LOAD_CART",payload:t}},updateCart:function(t){return function(e){e({type:"UPDATE_CART",payload:{productQuantity:t.reduce((function(t,e){return t+=e.quantity}),0),totalPrice:t.reduce((function(t,e){return t+=e.price*e.quantity}),0)}})}},removeProduct:function(t){return{type:"REMOVE_PRODUCT",payload:t}}})(S),w=(c(65),function(t){Object(u.a)(c,t);var e=Object(l.a)(c);function c(){return Object(i.a)(this,c),e.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(b.jsx)("ul",{className:"ul",children:Object(b.jsx)("li",{className:"li",children:"The Shopping Cart Demo"})})}}]),c}(n.Component)),E=function(t){Object(u.a)(c,t);var e=Object(l.a)(c);function c(){return Object(i.a)(this,c),e.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(w,{}),Object(b.jsx)("main",{children:Object(b.jsx)(T,{})}),Object(b.jsx)(U,{})]})}}]),c}(n.Component),F=c(10),q=c(31),L=c(7),Q="FETCH_PRODUCTS",M={products:[]},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Q:return Object(L.a)(Object(L.a)({},t),{},{products:e.payload});default:return t}},$="UPDATE_FILTER",z={item:[]},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case $:return Object(L.a)(Object(L.a)({},t),{},{items:e.payload});default:return t}},H="UPDATE_SORT",V={type:""},J=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case H:return Object(L.a)(Object(L.a)({},t),{},{type:e.payload});default:return t}},W="LOAD_CART",X="ADD_PRODUCT",G="REMOVE_PRODUCT",K="UPDATE_CART",Y={products:[],sum:{productQuantity:0,totalPrice:0}},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case W:return Object(L.a)(Object(L.a)({},t),{},{products:e.payload});case X:return Object(L.a)(Object(L.a)({},t),{},{productToAdd:Object.assign({},e.payload)});case G:return Object(L.a)(Object(L.a)({},t),{},{productToRemove:Object.assign({},e.payload)});case K:return Object(L.a)(Object(L.a)({},t),{},{sum:e.payload});default:return t}},tt=Object(F.c)({list:I,filters:B,sort:J,cart:Z}),et=function(){var t=[q.a];return Object(F.e)(tt,Object(F.d)(F.a.apply(void 0,t)))},ct=function(t){var e=t.children,c=t.initialState,n=void 0===c?{}:c;return Object(b.jsx)(d.a,{store:et(n),children:e})};c(66);s.a.render(Object(b.jsxs)(r.a.StrictMode,{children:[Object(b.jsx)(ct,{children:Object(b.jsx)(E,{})}),","]}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.49f50bf1.chunk.js.map