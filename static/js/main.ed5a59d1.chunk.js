(this["webpackJsonpecommerce-site"]=this["webpackJsonpecommerce-site"]||[]).push([[0],{58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(13),s=c.n(a),i=c(3),o=c(4),u=c(6),l=c(5),d=c(9),h=c(30),p=c.n(h),j={lowestprice:function(e,t){return e.price<t.price?-1:e.price>t.price?1:0},highestprice:function(e,t){return e.price>t.price?-1:e.price<t.price?1:0}},b=c(0),O=function(e){return Object(b.jsx)("div",{className:e.classes,children:Object(b.jsx)("img",{src:e.src,alt:e.alt,title:e.title})})},v=function(e){var t=e.product;return Object(b.jsxs)("div",{className:"list-item",onClick:function(){return e.addProduct(t)},children:[Object(b.jsx)(O,{classes:"list-item__thumb",src:t.imageUrl,alt:t.title}),Object(b.jsx)("p",{className:"list-item__title",children:t.name}),Object(b.jsx)("div",{className:"list-item__price",children:Object(b.jsxs)("div",{className:"val",children:[Object(b.jsxs)("b",{children:["AU$",t.price]}),Object(b.jsx)("div",{children:t.content})]})}),Object(b.jsx)("div",{className:"list-item__buy-btn",children:"Add to cart"})]})},f=function(e){Object(u.a)(c,e);var t=Object(l.a)(c);function c(e){var n;return Object(i.a)(this,c),(n=t.call(this,e)).toggleCheckboxChange=function(){var e=n.props,t=e.handleCheckboxChange,c=e.label;n.setState((function(e){return{isChecked:!e.isChecked}})),t(c)},n.state={isChecked:!1},n}return Object(o.a)(c,[{key:"render",value:function(){var e=this.props,t=e.label,c=e.classes,n=this.state.isChecked;return Object(b.jsx)("div",{className:c,children:Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",value:t,checked:n,onChange:this.toggleCheckboxChange}),Object(b.jsx)("span",{className:"checkmark",children:t})]})})}}]),c}(n.Component),m=(c(58),["A","B","C","D","E"]),x=function(e){Object(u.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(i.a)(this,c);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).toggleCheckbox=function(t){e.selectedCheckboxes.has(t)?e.selectedCheckboxes.delete(t):e.selectedCheckboxes.add(t),e.props.updateFilters(Array.from(e.selectedCheckboxes))},e.createCheckbox=function(t){return Object(b.jsx)(f,{classes:"filters-available-size",label:t,handleCheckboxChange:e.toggleCheckbox},t)},e.createCheckboxes=function(){return m.map(e.createCheckbox)},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.selectedCheckboxes=new Set}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"filters",children:[Object(b.jsx)("h4",{className:"title",children:"category:"}),this.createCheckboxes()]})}}]),c}(n.Component),g=Object(d.b)((function(e){return{filters:e.filters.items}}),{updateFilters:function(e){return{type:"UPDATE_FILTER",payload:e}}})(x),y=function(e){Object(u.a)(c,e);var t=Object(l.a)(c);function c(e){var n;return Object(i.a)(this,c),(n=t.call(this,e)).createOptions=function(e){return e.map((function(e){return Object(b.jsx)("option",{value:e.value,children:e.label},e.value)}))},n.onChange=function(e){n.props.handleOnChange(e.target.value)},n.state={selected:""},n}return Object(o.a)(c,[{key:"render",value:function(){var e=this,t=this.props,c=t.classes,n=t.options;return Object(b.jsx)("select",{onChange:function(t){return e.onChange(t)},className:c,children:this.createOptions(n)})}}]),c}(n.Component),C=(c(59),[{value:"",label:"Select"},{value:"lowestprice",label:"Lowest to highest"},{value:"highestprice",label:"Highest to lowest"}]),P=function(e){Object(u.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(i.a)(this,c);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleSort=function(t){e.props.updateSort(t)},e}return Object(o.a)(c,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"sort",children:["Order by",Object(b.jsx)(y,{options:C,handleOnChange:this.handleSort})]})}}]),c}(n.Component),k=Object(d.b)((function(e){return{sort:e.sort.type}}),{updateSort:function(e){return{type:"UPDATE_SORT",payload:e}}})(P),N=(c(60),function(){return Object(b.jsxs)("div",{className:"loading",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})}),_=(c(61),function(e){Object(u.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(i.a)(this,c);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handlePaginate=function(t){e.props.paginate(t)},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.create()}},{key:"create",value:function(){for(var e=this.props,t=e.productPerPage,c=e.totalProducts,n=e.curPage,r=[],a=1;a<=Math.ceil(c/t);a++)r.push(a);var s=[];s.push(Object(b.jsx)("li",{onClick:this.handlegoPrev.bind(this),className:1===n?"nomore":"",children:"Pre"},0));for(var i=1;i<=r.length;i++)s.push(Object(b.jsx)("li",{onClick:this.handlePaginate.bind(this,i),className:n===i?"active":"",children:i},i));return s.push(Object(b.jsx)("li",{onClick:this.handlegoNext.bind(this),className:n===r.length?"nomore":"",children:"next"},r.length+1)),s}},{key:"handlegoPrev",value:function(){this.props.goPrev()}},{key:"handlegoNext",value:function(){this.props.goNext()}},{key:"render",value:function(){var e=this.create.bind(this)();return Object(b.jsx)("div",{className:"main",children:Object(b.jsx)("ul",{className:"page",children:e})})}}]),c}(n.Component)),T=(c(62),function(e){Object(u.a)(c,e);var t=Object(l.a)(c);function c(e){var n;return Object(i.a)(this,c),(n=t.call(this,e)).handleFetchProducts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.filters,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.sort;n.setState({loading:!0}),n.props.fetchProducts(e,t,(function(){n.setState({loading:!1})}))},n.paginate=function(e){n.setState({curPage:e})},n.goPrev=function(){n.setState({curPage:n.state.curPage-1})},n.goNext=function(){n.setState({curPage:n.state.curPage+1})},n.state={loading:!1,curPage:1,productPerPage:7},n}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.handleFetchProducts()}},{key:"componentWillReceiveProps",value:function(e){var t=e.filters,c=e.sort;t!==this.props.filters&&this.handleFetchProducts(t,void 0),c!==this.props.sort&&this.handleFetchProducts(void 0,c)}},{key:"render",value:function(){var e=this,t=this.props.products.map((function(t){return Object(b.jsx)(v,{product:t,addProduct:e.props.addProduct},t.id)})),c=this.state,n=c.curPage,a=c.productPerPage,s=n*a,i=s-a,o=t.slice(i,s);return Object(b.jsxs)(r.a.Fragment,{children:[this.state.loading&&Object(b.jsx)(N,{}),Object(b.jsx)(g,{}),Object(b.jsxs)("div",{className:"list-container",children:[Object(b.jsx)(k,{productsLength:t.length}),o,Object(b.jsx)(_,{curPage:n,productPerPage:a,totalProducts:t.length,paginate:this.paginate,goNext:this.goNext,goPrev:this.goPrev})]})]})}}]),c}(n.Component)),A=Object(d.b)((function(e){return{products:e.list.products,filters:e.filters.items,sort:e.sort.type}}),{fetchProducts:function(e,t,c){return function(n){return p.a.get("./data/products.json").then((function(r){var a=r.data;return e&&e.length>0&&(a=a.filter((function(t){return e.find((function(e){return t.typeVariant===e}))}))),t&&(a=a.sort(j[t])),c&&c(),n({type:"FETCH_PRODUCTS",payload:a})})).catch((function(e){console.log(e)}))}},addProduct:function(e){return{type:"ADD_PRODUCT",payload:e}}})(T),R=function(e){Object(u.a)(c,e);var t=Object(l.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){var e=this.props,t=e.product,c=e.removeProduct;return Object(b.jsxs)("div",{className:["list-item"].join(" "),children:[Object(b.jsx)("div",{className:"list-item__del",onClick:function(){return c(t)},children:"x"}),Object(b.jsx)(O,{classes:"list-item__thumb",src:t.imageUrl,alt:t.name}),Object(b.jsxs)("div",{className:"list-item__details",children:[Object(b.jsx)("p",{className:"title",children:t.title}),Object(b.jsxs)("p",{className:"desc",children:["Quantity: ",t.quantity]})]}),Object(b.jsx)("div",{className:"list-item__price",children:Object(b.jsxs)("p",{children:["AU$",t.price]})})]})}}]),c}(n.Component),D=c(18),S=(c(65),c(19)),U=function(e){Object(u.a)(c,e);var t=Object(l.a)(c);function c(e){var n;return Object(i.a)(this,c),(n=t.call(this,e)).openCart=function(){n.setState({isOpen:!0})},n.closeCart=function(){n.setState({isOpen:!1})},n.addProduct=function(e){var t=n.props,c=t.cartProducts,r=t.updateCart,a=!1;c.forEach((function(t){t.id===e.id&&(t.quantity+=e.quantity,a=!0)})),a||c.push(e),r(c),n.openCart()},n.removeProduct=function(e){var t=n.props,c=t.cartProducts,r=t.updateCart,a=c.findIndex((function(t){return t.id===e.id}));a>=0&&(c.splice(a,1),r(c))},n.proceedToCheckout=function(){var e=n.props.cartTotal,t=e.totalPrice;e.productQuantity?alert("Checkout - Subtotal: AU$ ".concat(t)):alert("Add some product in the bag!")},n.state={isOpen:!1},n}return Object(o.a)(c,[{key:"componentWillReceiveProps",value:function(e){e.newProduct!==this.props.newProduct&&this.addProduct(e.newProduct),e.productToRemove!==this.props.productToRemove&&this.removeProduct(e.productToRemove)}},{key:"render",value:function(){var e=this,t=this.props,c=t.cartTotal,n=t.cartProducts,r=t.removeProduct,a=n.map((function(e){return Object(b.jsx)(R,{product:e,removeProduct:r},e.id)})),s=["cart"];return this.state.isOpen&&s.push("cart--open"),Object(b.jsxs)("div",{className:s.join(" "),children:[this.state.isOpen&&Object(b.jsx)("div",{onClick:function(){return e.closeCart()},className:"cart__close-btn",children:"X"}),!this.state.isOpen&&Object(b.jsxs)("span",{onClick:function(){return e.openCart()},className:"bag bag--cart-closed",children:[Object(b.jsx)(D.a,{icon:S.a,size:"3x"}),Object(b.jsx)("span",{className:"bag__quantity",children:c.productQuantity})]}),Object(b.jsxs)("div",{className:"cart__content",children:[Object(b.jsxs)("div",{className:"cart__header",children:[Object(b.jsxs)("span",{className:"bag",children:[Object(b.jsx)(D.a,{icon:S.a,size:"3x"}),Object(b.jsx)("span",{className:"bag__quantity",children:c.productQuantity})]}),Object(b.jsx)("span",{className:"header-title",children:"Cart"})]}),Object(b.jsxs)("div",{className:"cart__list-container",children:[a,!a.length&&Object(b.jsxs)("p",{className:"list-empty",children:["Please add some products ",Object(b.jsx)("br",{})]})]}),Object(b.jsxs)("div",{className:"cart__footer",children:[Object(b.jsx)("div",{className:"sub",children:"SUBTOTAL"}),Object(b.jsx)("div",{className:"sub-price",children:Object(b.jsxs)("p",{className:"sub-price__val",children:["AU$","".concat(c.totalPrice)]})}),Object(b.jsx)("div",{onClick:function(){return e.proceedToCheckout()},className:"buy-btn",children:"Checkout"})]})]})]})}}]),c}(n.Component),w=Object(d.b)((function(e){return{cartProducts:e.cart.products,newProduct:e.cart.productToAdd,productToRemove:e.cart.productToRemove,cartTotal:e.cart.sum}}),{loadCart:function(e){return{type:"LOAD_CART",payload:e}},updateCart:function(e){return function(t){t({type:"UPDATE_CART",payload:{productQuantity:e.reduce((function(e,t){return e+=t.quantity}),0),totalPrice:e.reduce((function(e,t){return e+=t.price*t.quantity}),0)}})}},removeProduct:function(e){return{type:"REMOVE_PRODUCT",payload:e}}})(U),E=(c(66),function(e){Object(u.a)(c,e);var t=Object(l.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(b.jsx)("ul",{className:"ul",children:Object(b.jsx)("li",{className:"li",children:"The Shopping Cart Demo"})})}}]),c}(n.Component)),F=function(e){Object(u.a)(c,e);var t=Object(l.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(E,{}),Object(b.jsx)("main",{children:Object(b.jsx)(A,{})}),Object(b.jsx)(w,{})]})}}]),c}(n.Component),q=c(10),L=c(31),M=c(7),Q="FETCH_PRODUCTS",I={products:[]},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(M.a)(Object(M.a)({},e),{},{products:t.payload});default:return e}},z="UPDATE_FILTER",B={item:[]},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(M.a)(Object(M.a)({},e),{},{items:t.payload});default:return e}},V="UPDATE_SORT",J={type:""},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(M.a)(Object(M.a)({},e),{},{type:t.payload});default:return e}},X="LOAD_CART",G="ADD_PRODUCT",K="REMOVE_PRODUCT",Y="UPDATE_CART",Z={products:[],sum:{productQuantity:0,totalPrice:0}},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(M.a)(Object(M.a)({},e),{},{products:t.payload});case G:return Object(M.a)(Object(M.a)({},e),{},{productToAdd:Object.assign({},t.payload)});case K:return Object(M.a)(Object(M.a)({},e),{},{productToRemove:Object.assign({},t.payload)});case Y:return Object(M.a)(Object(M.a)({},e),{},{sum:t.payload});default:return e}},te=Object(q.c)({list:$,filters:H,sort:W,cart:ee}),ce=function(){var e=[L.a];return Object(q.e)(te,Object(q.d)(q.a.apply(void 0,e)))},ne=function(e){var t=e.children,c=e.initialState,n=void 0===c?{}:c;return Object(b.jsx)(d.a,{store:ce(n),children:t})};c(67);s.a.render(Object(b.jsxs)(r.a.StrictMode,{children:[Object(b.jsx)(ne,{children:Object(b.jsx)(F,{})}),","]}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.ed5a59d1.chunk.js.map